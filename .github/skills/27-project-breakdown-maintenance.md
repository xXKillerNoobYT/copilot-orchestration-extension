# Project Breakdown Maintenance Skill

**Purpose**: Keep PROJECT-BREAKDOWN & TODO List.md accurate, current, and actionable  
**Related Files**: `Docs/This Program's Plans/PROJECT-BREAKDOWN & TODO List .md`, all implementation files  
**Keywords**: project-tracking, master-checklist, progress-updates, task-management

## What is the Project Breakdown File?

The **PROJECT-BREAKDOWN & TODO List.md** is the master roadmap for the entire COE project.

**Simple explanation**: Like a construction blueprint that shows every room, every wall, every wire. Builders check it constantly to know what's done and what's next. This file is COE's blueprint.

## Critical Components to Maintain

### 1. Progress Dashboard (Lines 45-95)

**What it tracks**:
- Overall completion percentage
- Stage-by-stage progress
- Recently completed tasks (last 3)
- Next easy wins
- Time estimates

**When to update**:
- âœ… After completing ANY task
- âœ… When moving to new stage
- âœ… When discovering new tasks

**How to update**:
```markdown
### Overall Completion
[â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 10.2% (36/353 tasks)  # Update counts

### Stage Completion
| Stage | Status | Tasks | Complete | Progress | Gate Status |
|-------|--------|-------|----------|----------|-------------|
| **Stage 1** | âœ… Complete | 27 | 27/27 | 100% | âœ… Passed |  # Mark passed
| **Stage 2** | ðŸ”„ In Progress | 38 | 5/38 | 13.2% | ðŸ”’ Locked |  # Update counts

### ðŸŽ‰ Recently Completed (Last 3 Tasks Only)
1. âœ… **MT-002.3**: Description (completed Feb 4, 2026)  # Add newest first
2. âœ… **MT-002.2**: Description (completed Feb 3, 2026)
3. âœ… **MT-002.1**: Description (completed Feb 3, 2026)
```

### 2. Task Checkboxes (Throughout File)

**What to track**:
```markdown
- [x] **MT-001.1**: Task name (20 min) [actual: 45 min] [Priority: P0] âœ…
      ^^^                            ^^^         ^^^
      Checkbox                   Estimate    Actual time tracked
```

**Maintenance rules**:
1. **Check off** when task 100% complete (not 99%)
2. **Add actual time** in [actual: __ min] field
3. **Add âœ…** emoji at end when done
4. **Add completion details** under task (indented)

**Example completion**:
```markdown
- [x] **MT-001.11**: Integrate Config Loader (25 min) [actual: 120 min] [Priority: P0] âœ…
  - **Files**: Updated src/services/llmService.ts, orchestrator.ts, ticketDb.ts
  - **Tests**: Fixed config initialization in all service tests
  - **Behavior**: All services use centralized config via getConfigInstance()
  - **Documentation**: Updated project breakdown with completion details
  - **Quality**: TypeScript compilation succeeds, zero errors
  - **Verification**: âœ… npm run compile passes, services use config
  - **Dependencies**: MT-001.10 âœ…
```

### 3. Investigation Tasks Section (Lines ~580)

**When to add**:
- Verification Team finds test failure
- Planning Agent discovers gap
- Developer finds missing requirement
- Bug discovered during implementation

**Format**:
```markdown
### Investigation Tasks (Auto-Generated by Verification Team)

- [ ] **INV-001**: Investigation: login test failed - password field not found (30 min) [depends: MT-015.3]
  - **Trigger**: Verification Team test failure on Feb 4, 2026
  - **Goal**: Find root cause, create fix task
  - **Original Task**: MT-015.3 (Verification matching)
  - **Error**: Test expected #password-field, found #pwd-input
  - **Next Steps**: Update test OR update implementation, verify alignment
  - **ðŸ‘¶ Beginner Tip**: Use VS Code debugger to step through test
```

### 4. Dependency Tracking

**Cross-reference accuracy**:
- Every task lists its dependencies
- Dependencies must exist as task IDs
- Dependencies must be from earlier stages/tasks

**Example dependency validation**:
```markdown
âŒ WRONG:
- [ ] MT-006.3 [depends: MT-007.1]  # Can't depend on later task!

âœ… CORRECT:
- [ ] MT-006.3 [depends: MT-005.1, MT-005.3]  # Earlier tasks
```

## Maintenance Workflow

### After Completing a Task

```
Step 1: Update task checkbox
  - Change [ ] to [x]
  - Fill in [actual: __ min]
  - Add âœ… emoji

Step 2: Add completion details
  - Files modified
  - Tests added/updated
  - Behavior verified
  - Documentation updated
  - Quality checks passed
  - Verification method
  - Dependencies status

Step 3: Update Progress Dashboard
  - Increment complete count
  - Recalculate percentage
  - Move to "Recently Completed" (top 3)
  - Update "Next Up" section

Step 4: Check gate requirements
  - If stage complete, verify gate checklist
  - Mark gate as passed if all criteria met
  - Unlock next stage

Step 5: Update time estimates
  - Note if actual time >> estimate
  - Adjust future similar tasks
  - Update "Estimated Time Remaining"
```

### When Adding New Tasks

**Gap tasks discovered**:
```markdown
### Gap Tasks (Discovered During Implementation)

- [ ] **GAP-001**: Add missing error handling for network failures (20 min)
  - **Discovery Date**: Feb 4, 2026
  - **Discovered By**: Developer during MT-009.2 implementation
  - **Rationale**: Original plan didn't account for offline scenarios
  - **Priority**: P1
  - **Stage**: 3 (LLM Integration)
  - **Dependencies**: MT-009.2
```

**Investigation tickets from failures**:
```markdown
- [ ] **INV-002**: Why does LLM timeout after 30s instead of 120s? (25 min)
  - **Trigger**: Repeated timeouts during MT-009.4 testing
  - **Hypothesis**: Config not being read correctly
  - **Test**: Add logging to config loader
  - **Expected Resolution**: 1-2 hours
```

### When Refining Estimates

**Learning from actuals**:
```markdown
ðŸ“Š Estimate Accuracy Tracking:

MT-001.1: Est 20min, Act 45min (225% over)
MT-001.2: Est 35min, Act 60min (171% over)
MT-001.3: Est 30min, Act 50min (167% over)

Pattern detected: Complex tasks consistently 2x longer
Action: Multiply all "complex" estimates by 2

Updated estimates:
MT-002.5: Was 30min â†’ Now 60min (complex test suite)
MT-003.2: Was 35min â†’ Now 70min (complex loader)
```

## Quality Checklist for Breakdown File

Before committing updates:

- [ ] **All checkboxes accurate** (completed tasks marked)
- [ ] **Actual times recorded** for completed tasks
- [ ] **Progress percentages recalculated**
  - Count completed tasks
  - Divide by total tasks
  - Update progress bars
- [ ] **Recently Completed updated** (top 3 only)
- [ ] **Dependencies still valid** (no circular refs)
- [ ] **Stage gates match reality** (passed if all tasks done)
- [ ] **Estimated time remaining updated**
- [ ] **New tasks properly formatted** (follows template)
- [ ] **No orphaned task IDs** (all references exist)
- [ ] **File compiles markdown correctly** (preview works)

## Common Maintenance Mistakes

### Mistake 1: Forgetting to Update Progress

```markdown
âŒ WRONG: Completed 5 tasks but dashboard still shows 0%

âœ… CORRECT:
After each task:
1. Update task checkbox [x]
2. Update stage completion (5/38)
3. Update overall completion (36/353)
4. Recalculate percentages
```

### Mistake 2: Not Recording Actual Time

```markdown
âŒ WRONG:
- [x] MT-001.1: Task (20 min) [actual: __ min] âœ…
                                         ^^^ Empty!

âœ… CORRECT:
- [x] MT-001.1: Task (20 min) [actual: 45 min] âœ…
                                         ^^^ Filled in!

Why: Helps improve future estimates
```

### Mistake 3: Incomplete Completion Details

```markdown
âŒ WRONG:
- [x] MT-001.11: Done âœ…

âœ… CORRECT:
- [x] MT-001.11: Integrate Config Loader âœ…
  - **Files**: List modified files
  - **Tests**: What tests added/updated
  - **Behavior**: What it does now
  - **Verification**: âœ… How verified
  - **Dependencies**: Status of prerequisites
```

### Mistake 4: Breaking Dependencies

```markdown
âŒ WRONG:
Stage 2:
- [ ] MT-005.1: Create tickets table [depends: MT-006.1]
                                              ^^^^^^^^ Future task!

âœ… CORRECT:
- [ ] MT-005.1: Create tickets table [depends: MT-001.1, MT-002.1]
                                              ^^^^^^^^^^^^^^^^^^^ Earlier tasks
```

## Automated Tracking Helpers

### Progress Calculation Script

```typescript
/**
 * Calculate overall progress from PROJECT-BREAKDOWN
 * 
 * **Simple explanation**: Like counting how many boxes 
 * checked on a huge checklist
 */
function calculateProgress(fileContent: string): ProgressReport {
    const lines = fileContent.split('\n');
    
    let totalTasks = 0;
    let completedTasks = 0;
    
    for (const line of lines) {
        // Match task lines: - [ ] **MT-XXX.Y**
        if (/^- \[(x| )\] \*\*MT-\d{3}\.\d+\*\*/.test(line)) {
            totalTasks++;
            if (line.includes('[x]')) {
                completedTasks++;
            }
        }
    }
    
    const percentage = (completedTasks / totalTasks * 100).toFixed(1);
    
    return {
        total: totalTasks,
        completed: completedTasks,
        percentage: parseFloat(percentage),
        remaining: totalTasks - completedTasks
    };
}
```

### Stage Progress Tracker

```typescript
function calculateStageProgress(stage: number, fileContent: string): StageProgress {
    const stageRegex = new RegExp(`^## STAGE ${stage}:`, 'm');
    const nextStageRegex = new RegExp(`^## STAGE ${stage + 1}:`, 'm');
    
    const stageStart = fileContent.search(stageRegex);
    const stageEnd = fileContent.search(nextStageRegex);
    
    const stageContent = fileContent.slice(
        stageStart, 
        stageEnd > 0 ? stageEnd : undefined
    );
    
    // Count tasks in this stage
    const tasks = stageContent.match(/- \[(x| )\] \*\*MT-\d{3}\.\d+\*\*/g) || [];
    const completed = tasks.filter(t => t.includes('[x]')).length;
    
    return {
        stage,
        total: tasks.length,
        completed,
        percentage: (completed / tasks.length * 100).toFixed(1)
    };
}
```

## Integration with Other Skills

### With Skill 23 (Plan Drift Detection)

When drift detected:
1. Create investigation task in PROJECT-BREAKDOWN
2. Link to original task that drifted
3. Update task description with drift details
4. Mark original task as blocked until drift resolved

### With Skill 26 (Safety Checklist)

Before marking task complete:
1. Run safety checklist (skill 26)
2. Only after all checks pass:
   - Update checkbox to [x]
   - Fill in actual time
   - Add completion details
   - Update progress dashboard

### With Skill 19 (PRD Maintenance)

When major milestone reached:
1. Update PROJECT-BREAKDOWN gate status
2. Update PRD.md with milestone completion
3. Cross-reference: PRD features â†’ BREAKDOWN tasks
4. Verify alignment between documents

## Real-World Example: Completing a Task

**Scenario**: Just finished MT-001.11 (Integrate Config Loader)

**Step-by-step update**:

```markdown
1. Update task checkbox:
   OLD: - [ ] **MT-001.11**: Integrate Config Loader (25 min) [actual: __ min]
   NEW: - [x] **MT-001.11**: Integrate Config Loader (25 min) [actual: 120 min] âœ…

2. Add completion details:
   - **Files**: Updated src/services/llmService.ts, orchestrator.ts, ticketDb.ts
   - **Tests**: Fixed initialization in llmService.test.ts, orchestrator.test.ts
   - **Behavior**: Services now use getConfigInstance() for all config access
   - **Quality**: Zero TypeScript errors, all tests pass
   - **Verification**: âœ… npm run compile success, manual config test passed

3. Update Progress Dashboard:
   Overall: [â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 2.8% (10/353) â†’ 3.1% (11/353)
   Stage 1: 9/27 â†’ 10/27 (37%)

4. Update Recently Completed:
   Add to top:
   1. âœ… **MT-001.11**: Integrate Config Loader (completed Feb 4, 2026)

5. Check Stage 1 gate:
   - 10/27 tasks complete â†’ Not ready for gate yet
   - Continue to MT-002.2

6. Note learning:
   - Estimated 25min, actual 120min (480% over!)
   - Reason: Needed to update 3 services + fix tests
   - Action: Future "integration" tasks â†’ multiply estimate by 3x
```

## Maintenance Schedule

### After Every Task (Required)
- Update checkbox
- Record actual time
- Add completion details
- Update progress counts

### Daily (Recommended)
- Verify progress dashboard accurate
- Update "Recently Completed" top 3
- Check for new investigation tasks
- Review estimated time remaining

### Weekly (Good Practice)
- Review estimate accuracy
- Adjust future estimates based on learnings
- Clean up completed investigation tasks
- Update skill building tracker

### Before Stage Gate (Critical)
- Verify all stage tasks checked off
- Confirm all gate criteria met
- Update gate status
- Unlock next stage if passed

## Related Skills
- **[23-plan-drift-detection.md](23-plan-drift-detection.md)** - Detecting deviations
- **[26-safety-checklist.md](26-safety-checklist.md)** - Pre-completion checks
- **[19-prd-maintenance.md](19-prd-maintenance.md)** - PRD alignment
- **[18-skill-updater.md](18-skill-updater.md)** - Keeping skills current
- **[24-observation-skill.md](24-observation-skill.md)** - Tracking patterns
